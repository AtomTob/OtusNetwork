## Лабораторная работа. Реализация DHCPv4.

#### Топология

![alt-текст](https://github.com/AtomTob/OtusNetwork/blob/main/HomeLabs/Lab08.1/files/topo.jpg?raw=true "Схема сети")

#### Таблица адресации

|Устройство|	Интерфейс	|IP-адрес	|Маска подсети	|Шлюз по умолчанию|
| ------------- |:------------------:|------------- |------------- |------------- |
|R1	|G0/0/0	|10.0.0.1	|255.255.255.252|	—|
|R1|	G0/0/1|	—|	—|	—|
|R1	|G0/0/1.100	|—	|—	|—|
|R1	|G0/0/1.200	|—	|—	|—|
|R1|	G0/0/1.1000	|—	|—	|—|
|R2|	G0/0	|10.0.0.2	|255.255.255.252	|—|
|R2|	G0/0/1			|—	|—	|—|
|S1	|VLAN 200			|—	|—	|—|	
|S2	|VLAN 1				|—	|—	|—|
|PC-A|	NIC	|DHCP	|DHCP|	DHCP|
|PC-B	|NIC	|DHCP	|DHCP|	DHCP|

#### Таблица VLAN

|VLAN|	Имя|	Назначенный интерфейс|
| ------------- |------------------|------------- |
|1|	Нет	|S2: F0/18|
|100	|Клиенты	|S1: F0/6 |
|200	|Управление	|S1: VLAN 200  |
|999	|Parking_Lot	|S1: F0/1-4, F0/7-24, G0/1-2|
|1000	|Собственная	|—|

##

### Задачи
#### Часть 1.	Создание сети и настройка основных параметров устройства
##### Шаг 1.	Создание схемы адресации

> a.	Одна подсеть «Подсеть A», поддерживающая 58 хостов (клиентская VLAN на R1).<br>
> Запишите первый IP-адрес в таблице адресации для R1 G0/0/1.100.

Подсеть, удовлетворяющая таким условиям, имеет префикс /26 (размер 64 хоста > 58).<br>
Запишите первый IP-адрес в таблице адресации для R1 G0/0/1.100 - вычислим первый адрес сети:<br>

__IPv4-адрес первого узла в этой подсети__ <br>
192.168.1.00 000001 /26<br>
192.168.1.1 /26<br>

__IPv4-адрес последнего узла в этой подсети__ <br>
192.168.1.00 111110 /26<br>
192.168.1.62 /26<br>

> b.	Одна подсеть «Подсеть B», поддерживающая 28 хостов (управляющая VLAN на R1). <br>
> Запишите первый IP-адрес в таблице адресации для R1 G0/0/1.200. Запишите второй IP-адрес в таблице адресов для S1 VLAN 200 и введите соответствующий шлюз по умолчанию.<br>

Префикс сети, удовлетворяющий условиям - /27 (размер 32 хоста > 28).<br>
Т.к. последний занятый адрес из предыдущего примера - 192.168.1.63 (включая широковещательный адрес), то подсеть для этого примера начинается с адреса __192.168.1.64__ <br>

__IPv4-адрес первого узла в этой подсети__<br>
192.168.1.010 00001 /27<br>
192.168.1.65 /27<br>

__IPv4-адрес второго узла в этой подсети__<br>
192.168.1.010 00010 /27<br>
192.168.1.66 /27<br>

__IPv4-адрес последнего узла в этой подсети__<br>
192.168.1.010 11110 /27<br>
192.168.1.94 /27<br>

> c.	Одна подсеть «Подсеть C», поддерживающая 12 узлов (клиентская сеть на R2).<br>
> Запишите первый IP-адрес в таблице адресации для R2 G0/0/1.<br>

Префикс сети, удовлетворяющий условиям - /28 (размер 16 хостов > 12).<br>
Т.к. последний занятый адрес из предыдущего примера - 192.168.1.95 (включая широковещательный адрес), то подсеть для этого примера начинается с адреса __192.168.1.96__<br>

__IPv4-адрес первого узла в этой подсети__<br>
192.168.1.0110 0001 /28<br>
192.168.1.97 /28<br>

__IPv4-адрес последнего узла в этой подсети__<br>
192.168.1.0110 1110 /27<br>
192.168.1.110 /27<br>

#### Итоговая таблица маршрутизации

|Устройство	|Интерфейс	|IP-адрес|Маска подсети	|Шлюз по умолчанию|
| ------------- |:------------------:|------------- |------------- |------------- |
|R1	|G0/0/0	|10.0.0.1	|255.255.255.252|	-|
|R1 |G0/0/1|	-	|	-| -|
|R1 |G0/0/1.100|	192.168.1.1|	255.255.255.192	|-|
|R1 |G0/0/1.200	|192.168.1.65	|255.255.255.224	|-|
|R1 |G0/0/1.1000|	|-		|-| -|
|R2	|G0/0/0	|10.0.0.2|	255.255.255.252	|-|
|R2| G0/0/1|	192.168.1.97	|255.255.255.240|	-|
|S1	|VLAN 200	|192.168.1.66	|255.255.255.224	|192.168.1.65|
|S2|	VLAN 1|	192.168.1.98	|255.255.255.240	|192.168.1.97|
|PC-A|	NIC|	DHCP	|DHCP	|DHCP|
|PC-B|	NIC	|DHCP|	DHCP	|DHCP|

##

##### Шаг 2.	Создайте сеть согласно топологии.

![alt-текст](https://github.com/AtomTob/OtusNetwork/blob/main/HomeLabs/Lab08.1/files/topo1.jpg?raw=true)

##

##### Шаг 3.	Произведите базовую настройку маршрутизаторов.


```
hostname R1
no ip domain-lookup
enable secret 0 class
line con 0
password cisco
login
exit
line vty 0 15
password cisco
login
exit
service password-encryption
banner motd ^C!!!!!!!!!!!!enter only for MA, no MAX or MAXIM!!!!!!^C
clock timezone EKB 5 0
ip domain-name home.local 
crypto key generate rsa general-keys modulus 2048 
ip ssh version 2 
username admin secret 5 $1$mERr$qJb.eHvBN7S590aq.dpRL. 
line vty 0 4 
transport input ssh 
login local 
exit
clock set 15:00:00 22 feb 2026
copy running-config startup-config
```

##

##### Шаг 4.	Настройка маршрутизации между сетями VLAN на маршрутизаторе R1

> a.	Активируйте интерфейс G0/0/1 на маршрутизаторе.<br>
> b.	Настройте подинтерфейсы для каждой VLAN в соответствии с требованиями таблицы IP-адресации. Все субинтерфейсы используют инкапсуляцию 802.1Q и назначаются первый полезный адрес из вычисленного пула IP-адресов. Убедитесь, что подинтерфейсу для native VLAN не назначен IP-адрес. Включите описание для каждого подинтерфейса.<br>

```
R1(config)#int g0/1
R1(config-if)#no shut
R1(config)#int g0/1.100
R1(config-subif)#encapsulation dot1Q 100
R1(config-subif)#ip address 192.168.1.1 255.255.255.192
R1(config-subif)#description Clients
R1(config-subif)#ex

R1(config)#int g0/1.200
R1(config-subif)#encapsulation dot1Q 200
R1(config-subif)#ip address 192.168.1.65 255.255.255.224
R1(config-subif)#description MGMNT
R1(config-subif)#ex

R1(config)#int g0/1.1000
R1(config-subif)#encapsulation dot1Q 1000 native
R1(config-subif)#description NativeVLAN
```

> c.	Убедитесь, что вспомогательные интерфейсы работают.<br>

